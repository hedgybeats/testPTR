(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"6Bxl":function(t,e,r){"use strict";r.r(e),r.d(e,"AddProductModule",function(){return q}),r.d(e,"AddProductComponent",function(){return v}),r.d(e,"AddProductRoutingModule",function(){return P});var o=r("tyNb"),d=r("mrSG"),c=r("3Pt+"),i=r("fXoL"),n=r("U7T7"),u=r("J9tS"),s=r("8I6g"),a=r("Wp6s"),p=r("kmnG"),b=r("d3UM"),m=r("ofXK"),l=r("qFsG"),f=r("bTqV"),h=r("FKr1");function y(t,e){if(1&t&&(i.Ub(0,"mat-option",10),i.Kc(1),i.Tb()),2&t){const t=e.$implicit;i.qc("value",t.id),i.Bb(1),i.Mc(" ",t.name," ")}}function T(t,e){1&t&&(i.Ub(0,"div",11),i.Kc(1," You need to add some product types first "),i.Tb())}let v=(()=>{class t{constructor(t,e,r,o){this.constants=t,this.formBuilder=e,this.db=r,this.toastService=o}ngOnInit(){this.initForm(),this.getProductTypes()}getProductTypes(){return Object(d.a)(this,void 0,void 0,function*(){this.productTypes=yield this.db.getProductTypes()})}initForm(){this.productForm=this.formBuilder.group({name:[[],[c.w.required]],productTypeId:[[],[c.w.required]],code:[[],[c.w.required]],price:[[],[c.w.required]]})}get productTypeId(){return this.productForm.get("productTypeId").value}get name(){return this.productForm.get("name").value}get code(){return this.productForm.get("code").value}get price(){return this.productForm.get("price").value}tryAddProduct(){this.productForm.valid?this.addProduct():this.toastService.showError("Missing required fields")}addProduct(){return Object(d.a)(this,void 0,void 0,function*(){const t=this.productForm.value;try{yield this.db.addProduct(t),this.toastService.showSuccess(`Product '${t.name}' added successfully`)}catch(e){this.toastService.showError(e)}})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(n.a),i.Ob(c.e),i.Ob(u.a),i.Ob(s.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["ng-component"]],decls:23,vars:3,consts:[[1,"m-4","p-4"],[3,"formGroup"],["appearance","fill",1,"w-25","pt-2","ps-2","pe-2"],["formControlName","productTypeId","required",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["matInput","","type","text","formControlName","name","required",""],["matInput","","type","text","formControlName","code","required",""],["matInput","","type","number","formControlName","price","required",""],["mat-raised-button","",3,"click"],[3,"value"],[1,"text-danger"]],template:function(t,e){1&t&&(i.Ub(0,"mat-card",0),i.Ub(1,"form",1),i.Ub(2,"div"),i.Ub(3,"mat-form-field",2),i.Ub(4,"mat-label"),i.Kc(5,"Type"),i.Tb(),i.Ub(6,"mat-select",3),i.Ic(7,y,2,2,"mat-option",4),i.Tb(),i.Tb(),i.Ic(8,T,2,0,"div",5),i.Tb(),i.Ub(9,"mat-form-field",2),i.Ub(10,"mat-label"),i.Kc(11,"Name"),i.Tb(),i.Pb(12,"input",6),i.Tb(),i.Ub(13,"mat-form-field",2),i.Ub(14,"mat-label"),i.Kc(15,"Code"),i.Tb(),i.Pb(16,"input",7),i.Tb(),i.Ub(17,"mat-form-field",2),i.Ub(18,"mat-label"),i.Kc(19,"Price"),i.Tb(),i.Pb(20,"input",8),i.Tb(),i.Tb(),i.Ub(21,"button",9),i.fc("click",function(){return e.tryAddProduct()}),i.Kc(22,"Add Product"),i.Tb(),i.Tb()),2&t&&(i.Bb(1),i.qc("formGroup",e.productForm),i.Bb(6),i.qc("ngForOf",e.productTypes),i.Bb(1),i.qc("ngIf",0===(null==e.productTypes?null:e.productTypes.length)))},directives:[a.a,c.y,c.p,c.i,p.b,p.e,b.a,c.o,c.h,c.v,m.k,m.l,l.b,c.c,c.t,f.a,h.k],styles:[""]}),t})();const g=[{path:"",component:v,data:{title:"Add Product"}}];let P=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(g)],o.f]}),t})();var w=r("rhD1"),U=r("tk/3");let q=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[P,w.a,c.k,U.b,c.u,m.c]]}),t})()}}]);