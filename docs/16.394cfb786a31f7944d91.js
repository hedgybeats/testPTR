(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Jtwe:function(t,e,r){"use strict";r.r(e),r.d(e,"AddProductTypeRoutingModule",function(){return T}),r.d(e,"AddProductTypeModule",function(){return U}),r.d(e,"AddProductTypeComponent",function(){return m});var i=r("mrSG"),o=r("3Pt+"),s=r("fXoL"),d=r("J9tS"),n=r("8I6g"),c=r("kmnG"),u=r("qFsG"),a=r("d3UM"),b=r("ofXK"),p=r("bTqV"),l=r("FKr1");function f(t,e){if(1&t&&(s.Ub(0,"mat-option",12),s.Kc(1),s.Tb()),2&t){const t=e.$implicit;s.qc("value",t.id),s.Bb(1),s.Mc(" ",t.name," ")}}let m=(()=>{class t{constructor(t,e,r,i){this.fb=t,this.db=e,this.userService=r,this.toastService=i}ngOnInit(){this.initForm(),this.getBusinesses()}tryAddProductType(){this.productTypeForm.valid?this.addProductType():this.toastService.showError("Missing required fields")}getBusinesses(){return Object(i.a)(this,void 0,void 0,function*(){this.businesses=yield this.db.getBusinessessByUserId(this.userService.currentUserValue.id)})}addProductType(){return Object(i.a)(this,void 0,void 0,function*(){const t=this.productTypeForm.value;try{yield this.db.addProductType(t),this.toastService.showError(`Product type '${t.name}' added successfully`)}catch(e){this.toastService.showError(e)}})}initForm(){this.productTypeForm=this.fb.group({name:[[],[o.w.required]],businessIds:[[],[o.w.required]]})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.e),s.Ob(d.a),s.Ob(d.c),s.Ob(n.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-addProductType"]],decls:19,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup"],[1,"d-flex","w-100","justify-content-beteween"],[1,"d-flex","w-75"],["appearance","fill",1,"p-1"],["matInput","","type","text","formControlName","name","required",""],[1,"d-flex","w-25"],["formControlName","businessIds","multiple",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Kc(2,"Add Product Type"),s.Tb(),s.Ub(3,"div",2),s.Ub(4,"form",3),s.Ub(5,"div",4),s.Ub(6,"div",5),s.Ub(7,"mat-form-field",6),s.Ub(8,"mat-label"),s.Kc(9,"Name"),s.Tb(),s.Pb(10,"input",7),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Ub(12,"mat-form-field",6),s.Ub(13,"mat-label"),s.Kc(14,"Business"),s.Tb(),s.Ub(15,"mat-select",9),s.Ic(16,f,2,2,"mat-option",10),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(17,"button",11),s.fc("click",function(){return e.tryAddProductType()}),s.Kc(18,"Add"),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Bb(4),s.qc("formGroup",e.productTypeForm),s.Bb(12),s.qc("ngForOf",e.businesses))},directives:[o.y,o.p,o.i,c.b,c.e,u.b,o.c,o.o,o.h,o.v,a.a,b.k,p.a,l.k],styles:[""]}),t})();var y=r("tyNb");const h=[{path:"",component:m,data:{title:"Add Product Type"}}];let T=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[y.f.forChild(h)],y.f]}),t})();var v=r("rhD1"),w=r("tk/3");let U=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[T,v.a,o.k,o.u,w.b,b.c]]}),t})()}}]);